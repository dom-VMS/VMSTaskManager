<!-- Assign User Modal -->
<div class="modal fade" id="assign-user-modal" tabindex="-1" role="dialog" aria-labelledby="assign-user-modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="assign-user-modalLabel">Assign User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <%= form_with model: [@task, @task.task_assignments.build], local: true do |form| %>
            <div class="modal-body">
                <h4>Select a user</h4>
                <p>
                    <%= form.label :assigned_to_id, 'Assignee'%>
                    <%= form.select(:assigned_to_id, options_from_collection_for_select(@assignable_users, :id, :full_name), include_blank: "All", class: 'form-control') %>
                </p>
                <%= form.hidden_field 'assigned_by_id', :value => current_user.id%>
                <%= form.hidden_field 'task_id', :value => @task.id%>
            </div>   
            <div class="modal-footer">
                <%= button_tag type: 'submit', class: "btn btn-lg btn-success", id: "assign-user-button" do %>
                    <%= fa_icon('plus-circle', text: 'Assign User')%>
                <% end %>
                <button type="button" class="btn btn-lg btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
            <% end %>
        </div>
    </div>   
</div>   